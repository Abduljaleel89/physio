(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[742],{88567:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/therapy-plans/detail",function(){return r(141)}])},141:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return TherapyPlanDetail}});var l=r(85893),a=r(67294),i=r(11163),t=r(39367),n=r(36008),d=r(46435),c=r(41664),o=r.n(c);function TherapyPlanDetail(){let{user:e,loading:s}=(0,t.a)(),r=(0,i.useRouter)(),{id:c}=r.query,[x,h]=(0,a.useState)(null),[u,p]=(0,a.useState)(!0),[m,v]=(0,a.useState)("");(0,a.useEffect)(()=>{if(!s&&!e){r.push("/login");return}c&&e&&loadPlan()},[c,e,s,r]);let loadPlan=async()=>{try{p(!0);let e=await d.NU.get(parseInt(c));e.success&&h(e.data.therapyPlan)}catch(r){var e,s;v((null===(s=r.response)||void 0===s?void 0:null===(e=s.data)||void 0===e?void 0:e.error)||"Failed to load therapy plan")}finally{p(!1)}};return s||u?(0,l.jsx)(n.Z,{children:(0,l.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,l.jsx)("div",{className:"text-gray-500",children:"Loading therapy plan..."})})}):e&&x?(0,l.jsx)(n.Z,{children:(0,l.jsxs)("div",{className:"px-4 sm:px-0",children:[(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsxs)(o(),{href:"/therapy-plans",className:"text-blue-600 hover:text-blue-800 flex items-center mb-4",children:[(0,l.jsx)("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Therapy Plans"]}),(0,l.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:x.name}),x.description&&(0,l.jsx)("p",{className:"text-gray-600 mb-4",children:x.description})]}),m&&(0,l.jsx)("div",{className:"mb-6 rounded-lg bg-red-50 border border-red-200 p-4",children:(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)("svg",{className:"h-5 w-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,l.jsx)("div",{className:"ml-3 text-sm text-red-700",children:m})]})}),(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6 mb-6",children:[(0,l.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Exercises"}),x.exercises&&x.exercises.length>0?(0,l.jsx)("div",{className:"space-y-4",children:x.exercises.map(s=>{var r,a,i,t;return(0,l.jsx)("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition-colors",children:(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:(null===(r=s.exercise)||void 0===r?void 0:r.name)||"Exercise"}),(null===(a=s.exercise)||void 0===a?void 0:a.description)&&(0,l.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:s.exercise.description}),(0,l.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[s.reps&&(0,l.jsxs)("span",{children:["Reps: ",s.reps]}),s.sets&&(0,l.jsxs)("span",{children:["Sets: ",s.sets]}),(null===(i=s.exercise)||void 0===i?void 0:i.videoUrl)&&(0,l.jsxs)("span",{className:"flex items-center text-green-600",children:[(0,l.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Video Available"]})]})]}),"PATIENT"===e.role&&(null===(t=s.exercise)||void 0===t?void 0:t.id)&&(0,l.jsx)(o(),{href:"/exercises/view?id=".concat(s.exercise.id,"&therapyPlanExerciseId=").concat(s.id,"&therapyPlanId=").concat(x.id),className:"ml-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"View Exercise"})]})},s.id)})}):(0,l.jsx)("p",{className:"text-gray-500",children:"No exercises assigned to this therapy plan."})]})]})}):null}}},function(e){e.O(0,[424,8,774,888,179],function(){return e(e.s=88567)}),_N_E=e.O()}]);