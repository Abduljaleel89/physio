(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[0],{73633:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/therapy-plans",function(){return t(21622)}])},21622:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return TherapyPlans}});var r=t(85893),a=t(67294),l=t(11163),n=t(41664),i=t.n(n),d=t(39367),o=t(36008),c=t(46435);function TherapyPlans(){let{user:e,loading:s}=(0,d.a)(),t=(0,l.useRouter)(),[n,x]=(0,a.useState)([]),[h,m]=(0,a.useState)(!0),[u,p]=(0,a.useState)("");(0,a.useEffect)(()=>{if(!s&&!e){t.push("/login");return}e&&loadPlans()},[e,s,t]);let loadPlans=async()=>{try{let s=await c.NU.list();if(s.success){let t=s.data,r=Array.isArray(t)?t:(null==t?void 0:t.plans)||(null==t?void 0:t.therapyPlans)||(null==t?void 0:t.data)||[];null==e||e.role,x(r)}}catch(e){p(e.message||"Failed to load therapy plans")}finally{m(!1)}};if(s||h)return(0,r.jsx)(o.Z,{children:(0,r.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,r.jsx)("div",{className:"text-gray-500",children:"Loading..."})})});if(!e)return null;let getStatusColor=e=>{switch(e){case"ACTIVE":return"bg-green-100 text-green-800 border-green-200";case"COMPLETED":return"bg-blue-100 text-blue-800 border-blue-200";case"CANCELLED":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return(0,r.jsx)(o.Z,{children:(0,r.jsxs)("div",{className:"px-4 sm:px-0",children:[(0,r.jsx)("div",{className:"mb-8",children:(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"PATIENT"===e.role?"My Therapy Plans":"Therapy Plans"}),(0,r.jsx)("p",{className:"text-gray-600",children:"PATIENT"===e.role?"View your assigned therapy plans":"Manage therapy plans"})]})})}),u&&(0,r.jsx)("div",{className:"mb-6 rounded-lg bg-red-50 border border-red-200 p-4",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("svg",{className:"h-5 w-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,r.jsx)("div",{className:"ml-3 text-sm text-red-700",children:u})]})}),0===n.length?(0,r.jsxs)("div",{className:"bg-white shadow-lg rounded-xl border border-gray-200 px-6 py-12 text-center",children:[(0,r.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,r.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No therapy plans"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"No therapy plans found."})]}):(0,r.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:n.map(e=>(0,r.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 overflow-hidden",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-gray-900 line-clamp-2",children:e.name}),(0,r.jsx)("span",{className:"ml-2 inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold border whitespace-nowrap ".concat(getStatusColor(e.status)),children:e.status})]}),e.description&&(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:e.description}),(0,r.jsxs)("div",{className:"space-y-2 mb-4",children:[e.patient&&(0,r.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),(0,r.jsxs)("span",{className:"font-medium",children:[e.patient.firstName," ",e.patient.lastName]})]}),e.doctor&&(0,r.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Dr. ",e.doctor.firstName," ",e.doctor.lastName]})]}),(0,r.jsxs)(i(),{href:"/therapy-plans/detail?id=".concat(e.id),className:"inline-flex items-center text-blue-600 hover:text-blue-800 font-medium text-sm transition-colors",children:["View Details",(0,r.jsx)("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})},e.id))})]})})}}},function(e){e.O(0,[424,8,774,888,179],function(){return e(e.s=73633)}),_N_E=e.O()}]);