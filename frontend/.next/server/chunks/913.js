exports.id=913,exports.ids=[913],exports.modules={252:(t,e,a)=>{"use strict";a.a(t,async(t,r)=>{try{a.d(e,{Ak:()=>l,BT:()=>f,NU:()=>u,Nq:()=>g,WI:()=>w,Yu:()=>h,hA:()=>v,iJ:()=>c,iR:()=>m,qC:()=>y,yN:()=>S,zP:()=>p});var s=a(9648),n=t([s]);s=(n.then?(await n)():n)[0];let i=process.env.NEXT_PUBLIC_API_BASE?process.env.NEXT_PUBLIC_API_BASE:"http://localhost:4000/api",o=i.endsWith("/api")?i:`${i}/api`,d=s.default.create({baseURL:o,headers:{"Content-Type":"application/json"}});d.interceptors.request.use(t=>t),d.interceptors.response.use(t=>t,t=>(t.response?.status,Promise.reject(t)));let c={login:async(t,e)=>{let a=await d.post("/auth/login",{email:t,password:e});return a.data},register:async t=>{let e=await d.post("/auth/register",t);return e.data},me:async()=>{let t=await d.get("/auth/me");return t.data}},l={list:async()=>{let t=await d.get("/exercises");return t.data},get:async t=>{let e=await d.get(`/exercises/${t}`);return e.data},create:async t=>{let e=t instanceof FormData?{headers:{"Content-Type":"multipart/form-data"}}:{},a=await d.post("/exercises",t,e);return a.data},update:async(t,e)=>{let a=await d.patch(`/exercises/${t}`,e);return a.data},delete:async t=>{let e=await d.delete(`/exercises/${t}`);return e.data}},u={list:async()=>{let t=await d.get("/therapy-plans");return t.data},get:async t=>{let e=await d.get(`/therapy-plans/${t}`);return e.data},create:async t=>{let e=await d.post("/therapy-plans",t);return e.data},addExercise:async(t,e)=>{let a=await d.post(`/therapy-plans/${t}/exercises`,e);return a.data},editExercise:async(t,e,a)=>{let r=await d.patch(`/therapy-plans/${t}/exercises/${e}`,a);return r.data},archiveExercise:async(t,e)=>{let a=await d.delete(`/therapy-plans/${t}/exercises/${e}`);return a.data},reorderExercises:async(t,e)=>{let a=await d.post(`/therapy-plans/${t}/exercises/reorder`,{items:e});return a.data}},p={create:async(t,e)=>{let a=new FormData;Object.keys(e).forEach(t=>{null!==e[t]&&void 0!==e[t]&&("file"===t&&e[t]instanceof File?a.append("file",e[t]):a.append(t,e[t]))});let r=await d.post(`/patients/${t}/complete`,a,{headers:{"Content-Type":"multipart/form-data"}});return r.data},undo:async(t,e)=>{let a=await d.post(`/completion-events/${t}/undo`,{reason:e});return a.data}},y={list:async()=>{let t=await d.get("/appointments");return t.data},get:async t=>{let e=await d.get(`/appointments/${t}`);return e.data},create:async t=>{let e=await d.post("/appointments",t);return e.data},calendar:async(t,e)=>{let a=await d.get(`/appointments/calendar?start=${t}&end=${e}`);return a.data},update:async(t,e)=>{let a=await d.patch(`/appointments/${t}`,e);return a.data},cancel:async(t,e)=>{let a=await d.delete(`/appointments/${t}`,{data:{reason:e}});return a.data}},g={createUser:async t=>{let e=await d.post("/admin/users",t);return e.data},listUsers:async()=>{let t=await d.get("/admin/users");return t.data},updateUser:async(t,e)=>{let a=await d.put(`/admin/users/${t}`,e);return a.data},resetPassword:async t=>{let e=await d.post(`/admin/users/${t}/reset-password`);return e.data},assignDoctor:async(t,e)=>{let a=await d.post("/admin/assign-doctor",{patientId:t,doctorId:e});return a.data},getDoctors:async()=>{let t=await d.get("/admin/doctors");return t.data},getPatients:async()=>{let t=await d.get("/admin/patients");return t.data}},h={adherence:async(t,e,a)=>{let r=new URLSearchParams({startDate:t,endDate:e});a&&r.append("therapyPlanId",a.toString());let s=await d.get(`/analytics/adherence?${r.toString()}`);return s.data}},m={list:async()=>{let t=await d.get("/invoices");return t.data},create:async t=>{let e=await d.post("/invoices",t);return e.data},update:async(t,e)=>{let a=await d.patch(`/invoices/${t}`,e);return a.data},sendEmail:async t=>{let e=await d.post(`/invoices/${t}/send-email`);return e.data}},w={create:async t=>{let e=await d.post("/visit-requests",t);return e.data},list:async t=>{let e=t?"?"+new URLSearchParams(t).toString():"",a=await d.get("/visit-requests"+e);return a.data},respond:async(t,e)=>{let a=await d.patch(`/visit-requests/${t}/respond`,e);return a.data},assign:async(t,e)=>{let a=await d.post(`/visit-requests/${t}/assign`,e);return a.data}},f={list:async t=>{let e=new URLSearchParams;t?.page&&e.append("page",String(t.page)),t?.pageSize&&e.append("pageSize",String(t.pageSize)),t?.type&&e.append("type",t.type),t?.startDate&&e.append("startDate",t.startDate),t?.endDate&&e.append("endDate",t.endDate),t?.read&&e.append("read",t.read);let a=e.toString(),r=await d.get("/notifications"+(a?`?${a}`:""));return r.data},markRead:async t=>{let e=await d.post(`/notifications/${t}/read`);return e.data},markAll:async()=>{let t=await d.post("/notifications/read-all");return t.data}},v={myPatients:async()=>{let t=await d.get("/doctor/my-patients");return t.data}},S={getMyPatientId:async()=>{let t=await d.get("/auth/me");if(t.data.success&&t.data.data?.role==="PATIENT"){let e=await d.get("/admin/patients");if(e.data.success){let a=Array.isArray(e.data.data)?e.data.data:e.data.data?.patients||[],r=a.find(e=>e.userId===t.data.data.id);return r?.id||null}}return null},getCompletions:async(t,e,a)=>{let r=new URLSearchParams;t&&r.append("therapyPlanExerciseId",t.toString()),e&&r.append("startDate",e),a&&r.append("endDate",a);let s=await d.get(`/completion-events?${r.toString()}`);return s.data}};r()}catch(t){r(t)}})},9367:(t,e,a)=>{"use strict";a.a(t,async(t,r)=>{try{a.d(e,{H:()=>AuthProvider,a:()=>useAuth});var s=a(997),n=a(6689),i=a(252),o=t([i]);i=(o.then?(await o)():o)[0];let d=(0,n.createContext)(void 0);function AuthProvider({children:t}){let[e,a]=(0,n.useState)(null),[r,o]=(0,n.useState)(!0);(0,n.useEffect)(()=>{let t=localStorage.getItem("token"),e=localStorage.getItem("user");if(t&&e)try{a(JSON.parse(e)),i.iJ.me().then(t=>{t.success?(a(t.data),localStorage.setItem("user",JSON.stringify(t.data))):logout()}).catch(()=>{logout()})}catch(t){logout()}o(!1)},[]);let login=async(t,e)=>{let r=await i.iJ.login(t,e);if(r.success)localStorage.setItem("token",r.data.token),localStorage.setItem("user",JSON.stringify(r.data.user)),a(r.data.user);else throw Error(r.error||"Login failed")},logout=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),a(null)};return s.jsx(d.Provider,{value:{user:e,loading:r,login,logout,isAuthenticated:!!e},children:t})}function useAuth(){let t=(0,n.useContext)(d);if(void 0===t)throw Error("useAuth must be used within an AuthProvider");return t}r()}catch(t){r(t)}})},4810:(t,e,a)=>{"use strict";a.d(e,{F:()=>useTheme,f:()=>ThemeProvider});var r=a(997),s=a(6689);let n=(0,s.createContext)(void 0);function ThemeProvider({children:t}){let[e,a]=(0,s.useState)("light"),[i,o]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{o(!0);let t=localStorage.getItem("theme");if("dark"===t||"light"===t)a(t);else{let t=window.matchMedia("(prefers-color-scheme: dark)").matches;a(t?"dark":"light")}},[]),(0,s.useEffect)(()=>{if(!i)return;let t=document.documentElement;"dark"===e?t.classList.add("dark"):t.classList.remove("dark"),localStorage.setItem("theme",e)},[e,i]),r.jsx(n.Provider,{value:{theme:e,toggleTheme:()=>{a(t=>"light"===t?"dark":"light")}},children:t})}function useTheme(){let t=(0,s.useContext)(n);if(void 0===t)throw Error("useTheme must be used within a ThemeProvider");return t}},5913:(t,e,a)=>{"use strict";a.a(t,async(t,r)=>{try{a.r(e),a.d(e,{default:()=>App});var s=a(997);a(6764),a(1688);var n=a(9367),i=a(4810),o=a(6201),d=t([n,o]);function App({Component:t,pageProps:e}){return s.jsx(i.f,{children:(0,s.jsxs)(n.H,{children:[s.jsx(t,{...e}),s.jsx(o.Toaster,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#10b981",secondary:"#fff"}},error:{duration:4e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]})})}[n,o]=d.then?(await d)():d,r()}catch(t){r(t)}})},6764:()=>{}};